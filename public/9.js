(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{36:function(t,e,a){"use strict";a.r(e);var r=a(1),s=a.n(r),l={data:function(){return{alert:!1,alertError:!1,clre_pk:this.$route.params.id,clre_observation:"",valid:!1,sales:[],stores:[],returns:[],payments:[],saleHeader:"",saleDetail:[],desserts:[],selectReturn:"",selectStore:"",selectpame:"",snackbar:!1,timeout:2e3,subtotal:0,total:0,iva:0,efectivo:0,tarjeta:0,textMsg:"",editado:{clrd_pk:0,clrd_quantity:0},editadoSale:{clre_pk:0,remo_fk:0,clre_observation:""},dialogcredito:!1,dialogcontado:!1,loadingDialog:!1,minNumberRules:[function(t){return!!t||"Requerido."},function(t){return t>0||"El número debe ser mayor o igual a cero"}]}},created:function(){this.createsale()},methods:{formatMoney:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:",";try{e=Math.abs(e),e=isNaN(e)?2:e;var s=t<0?"-":"",l=parseInt(t=Math.abs(Number(t)||0).toFixed(e)).toString(),o=l.length>3?l.length%3:0;return s+(o?l.substr(0,o)+r:"")+l.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+r)+(e?a+Math.abs(t-l).toFixed(e).slice(2):"")}catch(t){console.log(t)}},createsale:function(){var t=this;this.loadingDialog=!0,console.log("/client/returns/"+this.clre_pk+" --\x3e get"),axios.get("/client/returns/"+this.clre_pk).then((function(e){setTimeout((function(){return t.loadingDialog=!1}),1e3),null!=e.data.data?(t.sales=e.data.data,t.saleHeader=e.data.data.ClientReturns,t.desserts=t.sales.ClientReturnDetails,t.getTotal()):t.normal("Notificación",e.data.status.message,"error")})).catch((function(e){console.log(e),t.normal("Notificación","Error al cargar el detalle de la devolución","error")}))},getTotal:function(){for(var t=0;t<this.desserts.length;t++)this.subtotal=this.subtotal+this.desserts[t].clrd_price*this.desserts[t].clrd_quantity;this.total=this.subtotal+this.iva},normal:function(t,e,a){this.notice=new s.a({title:t,description:e,className:"open-normal",closable:!0,duration:3,type:a})}}},o=a(0),i=Object(o.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-container",[a("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:t.loadingDialog,callback:function(e){t.loadingDialog=e},expression:"loadingDialog"}},[a("v-card",{attrs:{color:"white"}},[a("v-card-text",[t._v("\n          Cargando\n          "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"green"}})],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{color:"#000000",timeout:t.timeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                "+t._s(t.textMsg)+"\n                "),a("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n                    Cerrar\n                ")])],1),t._v(" "),a("v-row",[a("v-col",[a("v-card",[a("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-card-title",{staticClass:"subheading font-weight-bold"},[a("H2",[t._v(t._s(t.saleHeader.clsa_identifier))])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-card-text",{staticClass:"category d-inline-flex font-weight-light"},[a("v-label",[a("h4",[t._v("Cliente:")]),t._v(" "+t._s(t.saleHeader.clie_name))])],1)],1),t._v(" "),a("v-col",{attrs:{cols:"4"}},[a("v-card-text",{staticClass:"category d-inline-flex font-weight-light"},[a("v-label",[a("h4",[t._v("Sucursal:")]),t._v(" "+t._s(t.saleHeader.stor_name))])],1)],1),t._v(" "),a("v-col",{attrs:{cols:"4"}},[a("v-card-text",{staticClass:"category d-inline-flex font-weight-light"},[a("v-label",[a("h4",[t._v("Fecha:")]),t._v(" "+t._s(t.saleHeader.created_at))])],1)],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-card-text",{staticClass:"category d-inline-flex font-weight-light"},[a("v-label",[a("h4",[t._v("Motivo de devolución:")]),t._v(" "+t._s(t.saleHeader.remo_description))])],1)],1),t._v(" "),a("v-col",{attrs:{cols:"8"}},[a("v-card-text",{staticClass:"category d-inline-flex font-weight-light"},[a("v-label",[a("h4",[t._v("Observaciones:")]),t._v(" "+t._s(t.saleHeader.clre_observation))])],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-row",[a("v-alert",{attrs:{dismissible:"",transition:"fade-transition",type:"error",timeout:"400"},model:{value:t.alertError,callback:function(e){t.alertError=e},expression:"alertError"}},[t._v("\n  "+t._s(t.textMsg)+"\n")]),t._v(" "),a("v-col",[a("v-card",[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("ID")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Producto")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Unidad Medida")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Cantidad")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Cantidad Devuelta")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Precio")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("Importe")]),t._v(" "),a("th"),t._v(" "),a("th")])]),t._v(" "),a("tbody",[t._l(t.desserts,(function(e){return a("tr",{key:e.prod_name},[a("td",[t._v(t._s(e.prod_identifier))]),t._v(" "),a("td",[t._v(t._s(e.prod_name))]),t._v(" "),a("td",[t._v(t._s(e.meas_name))]),t._v(" "),a("td",[t._v("\n              "+t._s(e.clrd_quantity_sale)+"\n              ")]),a("td",[t._v("\n              "+t._s(e.clrd_quantity)+"                  \n              ")]),t._v(" "),a("td",[t._v("$"+t._s(t.formatMoney(e.clrd_price)))]),t._v(" "),a("td",[t._v("$"+t._s(t.formatMoney(e.clrd_quantity*e.clrd_price)))]),t._v(" "),a("td")])})),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Subtotal")]),t._v(" "),a("td",[t._v("$"+t._s(t.formatMoney(t.subtotal)))]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("I.V.A.")]),t._v(" "),a("td",[t._v("$"+t._s(t.formatMoney(t.iva)))]),t._v(" "),a("td")])],2),t._v(" "),a("tfoot",[a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v("Total")]),t._v(" "),a("td",[t._v("$"+t._s(t.formatMoney(t.total)))]),t._v(" "),a("td")])])]},proxy:!0}])})],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=i.exports}}]);